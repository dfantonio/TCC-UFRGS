---
description: 
globs: 
alwaysApply: true
---
# üß† Regra para Cursor IDE

Este projeto √© um **Analisador de Qualidade de Energia** baseado no microcontrolador **STM32F411RE**, utilizando dois canais do ADC para capturar sinais de **tens√£o** e **corrente**.

## ‚úÖ Objetivos da IDE Cursor:
1. **Auxiliar na organiza√ß√£o modular do c√≥digo**:
   - Separar arquivos por responsabilidade: aquisi√ß√£o de dados, processamento de sinais, comunica√ß√£o, etc.

2. **Ajudar na configura√ß√£o e gera√ß√£o de c√≥digo base HAL/LL**:
   - Configurar ADCs em modo DMA.
   - Criar timers para controlar a frequ√™ncia de amostragem (ex: 10 kHz).
   - Definir buffers e interrup√ß√µes corretamente.

3. **Facilitar o desenvolvimento de algoritmos de DSP**:
   - RMS, THD, Fator de Pot√™ncia, FFT (usando CMSIS-DSP).
   - Calcular pot√™ncia ativa, reativa e aparente.

4. **Gerenciar a comunica√ß√£o de dados**:
   - Implementar sa√≠da via UART ou USB (CDC).
   - Suportar comandos simples via terminal (opcional).

5. **Auxiliar no debug e simula√ß√£o com vari√°veis**:
   - Ajudar a visualizar buffers, transformadas e resultados calculados.

## üí° Regras Espec√≠ficas para o assistente:
- Sempre priorize **efici√™ncia e organiza√ß√£o** no c√≥digo.
- Utilize **HAL ou LL drivers**, mas evite depend√™ncia do STM32CubeMX ap√≥s configura√ß√£o inicial.
- Comente e documente bem fun√ß√µes que envolvem matem√°tica ou manipula√ß√£o de buffers.
- Sugira melhorias se algum trecho de c√≥digo estiver com baixa performance, imprecis√£o ou violar boas pr√°ticas embarcadas.
- SEMPRE busque autoriza√ß√£o expl√≠cita para altera√ß√µes no c√≥digo.
